<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Slideshow</title>

    <style>
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        img {
            display: block;
            margin: 0 auto;
            width: 500px;
            height: 300px;
            transition: 0.3s;
        }

        label {
            margin-left: 100px;
        }
    </style>
</head>
<body>
<h1>Example of slide show</h1>

<img src="" id="image" alt="">
<br>
<h2 style="text-align: center; margin-bottom: 0">Control panel</h2>

<div style="width: 33%; height: 42px;  background-color: #008CBA; float: left">
    <label>Choose width for images:
        <input type="number" min="300" max="600" id="width">
    </label>
    <br>
    <label>
        Choose height for images:
        <input type="number" min="100" max="400" id="height">
    </label>
</div>
<div style="width: 33%; height: 42px; background-color: #4CAF50; float: left;">
    <label>
        Cyclic image repetition:
        <input type="checkbox" id="repetition" checked onchange="checkValue(this)">
    </label>
</div>
<div style="width: 33%; height: 42px; background-color: #f44336; float: left">
    <label>
        Select the period to switch:
        <input type="number" id="time" min="100" max="5000" onchange="timeRepetition()">
    </label>
</div>

<script>
    let image = document.getElementById("image");
    let allImages = ['images/img1.png', 'images/img2.png', 'images/img3.png', 'images/img4.png', 'images/img5.png']
    let index = 0;

    let cyclicRepeat = true;

    let interval = 3000;

    timeRepetition();

    function timeRepetition() {
        clearInterval(interval);
        let time = setPeriod();

        interval = setInterval(function () {
            image.src = allImages[index];

            if (index !== allImages.length - 1)
                index++;

            if (index === allImages.length - 1 && cyclicRepeat === true) {
                index = 0;
            }
            changeImageSizes();
            console.log(setPeriod())
        }, time)
    }


    function setPeriod() {
        let time = document.getElementById('time').value;
        if (time === "")
            time = 3000;
        console.log(time)
        return time;
    }

    function checkValue(element) {
        cyclicRepeat = element.checked;
    }

    function changeImageSizes() {
        image.style.height = document.getElementById('height').value + 'px';
        image.style.width = document.getElementById('width').value + 'px';
    }
</script>
</body>
</html>